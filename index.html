<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Idade Gestacional | Dr. Rafael Peters</title>
    <meta name="description" content="Calculadora interativa para converter semanas de gestaÃ§Ã£o em meses, trimestres e dias. Calcule usando DUM, DPP ou dados do ultrassom.">
    <meta name="author" content="Dr. Rafael Peters">
    <meta name="keywords" content="idade gestacional, calculadora gravidez, semanas gestaÃ§Ã£o, DUM, DPP, ultrassom, meses gravidez">
    
    <!-- Open Graph / Compartilhamento -->
    <meta property="og:title" content="Calculadora de Idade Gestacional | Dr. Rafael Peters">
    <meta property="og:description" content="Descubra em qual mÃªs de gestaÃ§Ã£o vocÃª estÃ¡. Calcule usando a data da Ãºltima menstruaÃ§Ã£o, DPP ou ultrassom.">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¤°</text></svg>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/calculadora.css">
</head>
<body>
    <div class="app-container">
        
        <!-- ==================== HEADER ==================== -->
        <header class="header">
            <h1 class="texto-gradiente">ğŸ¤° Calculadora de Idade Gestacional</h1>
            <p class="subtitulo">Converta semanas em meses, trimestres e dias</p>
            <span class="autor">Dr. Rafael Peters</span>
        </header>
        
        <!-- ==================== INSTRUÃ‡Ã•ES ==================== -->
        <div class="instrucoes-box">
            <h2>ğŸ“– Como usar esta calculadora</h2>
            <div class="instrucoes-grid">
                <div class="instrucao-item">
                    <span class="emoji">ğŸ“…</span>
                    <span><strong>Escolha o mÃ©todo:</strong> DUM, DPP ou dados do ultrassom</span>
                </div>
                <div class="instrucao-item">
                    <span class="emoji">ğŸšï¸</span>
                    <span><strong>Ou use o slider</strong> para explorar as semanas</span>
                </div>
                <div class="instrucao-item">
                    <span class="emoji">ğŸ¨</span>
                    <span>Cores: <strong style="color:var(--rosa)">Rosa</strong>=1Âºtri, <strong style="color:var(--roxo)">Roxo</strong>=2Âºtri, <strong style="color:var(--azul)">Azul</strong>=3Âºtri</span>
                </div>
                <div class="instrucao-item">
                    <span class="emoji">âœï¸</span>
                    <span><strong>Personalize os exames</strong> conforme seu mÃ©dico orientar</span>
                </div>
            </div>
        </div>
        
        <!-- ==================== ENTRADA DE DADOS ==================== -->
        <section class="entrada-section card">
            <div class="card-header roxo">
                <span class="icon">ğŸ“…</span>
                Calcule sua idade gestacional
            </div>
            
            <!-- Seletor de MÃ©todo -->
            <div class="metodo-selector">
                <!-- DUM -->
                <div class="metodo-card">
                    <input type="radio" name="metodo" id="metodoDUM" value="dum">
                    <label for="metodoDUM" class="metodo-label">
                        <div class="metodo-header">
                            <span class="icon">ğŸ“†</span>
                            <span class="titulo">DUM</span>
                            <span class="badge-check">âœ“</span>
                        </div>
                        <p class="metodo-descricao">Data da Ãšltima MenstruaÃ§Ã£o</p>
                        <div class="metodo-campos" id="campos-dum" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Primeiro dia da Ãºltima menstruaÃ§Ã£o:</label>
                                <input type="date" id="inputDUM" class="form-input">
                            </div>
                        </div>
                    </label>
                </div>
                
                <!-- DPP -->
                <div class="metodo-card">
                    <input type="radio" name="metodo" id="metodoDPP" value="dpp">
                    <label for="metodoDPP" class="metodo-label">
                        <div class="metodo-header">
                            <span class="icon">ğŸ‘¶</span>
                            <span class="titulo">DPP</span>
                            <span class="badge-check">âœ“</span>
                        </div>
                        <p class="metodo-descricao">Data ProvÃ¡vel do Parto</p>
                        <div class="metodo-campos" id="campos-dpp" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Data prevista para o parto:</label>
                                <input type="date" id="inputDPP" class="form-input">
                            </div>
                        </div>
                    </label>
                </div>
                
                <!-- Ultrassom -->
                <div class="metodo-card">
                    <input type="radio" name="metodo" id="metodoUS" value="ultrassom">
                    <label for="metodoUS" class="metodo-label">
                        <div class="metodo-header">
                            <span class="icon">ğŸ”¬</span>
                            <span class="titulo">Ultrassom</span>
                            <span class="badge-check">âœ“</span>
                        </div>
                        <p class="metodo-descricao">Baseado em um exame anterior</p>
                        <div class="metodo-campos" id="campos-ultrassom" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Data do exame:</label>
                                <input type="date" id="inputDataExame" class="form-input">
                            </div>
                            <div class="campo-row" style="margin-top: 12px;">
                                <div class="form-group">
                                    <label class="form-label">Semanas:</label>
                                    <input type="number" id="inputSemExame" class="form-input form-input-compact" min="1" max="42" placeholder="20">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Dias:</label>
                                    <input type="number" id="inputDiasExame" class="form-input form-input-compact" min="0" max="6" placeholder="0">
                                </div>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
            
            <!-- BotÃ£o Calcular -->
            <div class="calcular-section">
                <button id="btnCalcular" class="btn btn-primary btn-calcular">
                    <span class="icon">ğŸ”¢</span>
                    Calcular Idade Gestacional
                </button>
                <div id="erroBox" class="nota warning" style="display: none; margin-top: 16px;"></div>
            </div>
        </section>
        
        <!-- ==================== DIVISOR ==================== -->
        <div class="divisor-ou">
            <span>ou explore com o slider</span>
        </div>
        
        <!-- ==================== SLIDER DE SEMANAS ==================== -->
        <section class="slider-section">
            <div class="slider-header">
                <div class="slider-titulo">
                    <span>ğŸšï¸</span>
                    Selecione a idade gestacional
                </div>
                <div class="slider-valores">
                    <div class="slider-valor-box">
                        <label>Semanas:</label>
                        <input type="number" id="inputSemanas" min="1" max="42" value="20">
                    </div>
                    <div class="slider-valor-box">
                        <label>Dias:</label>
                        <input type="number" id="inputDias" min="0" max="6" value="0">
                    </div>
                </div>
            </div>
            
            <div class="slider-container">
                <input type="range" id="sliderSemanas" min="1" max="42" value="20" class="slider">
                <div class="slider-labels">
                    <span>1</span>
                    <span>5</span>
                    <span>10</span>
                    <span>15</span>
                    <span>20</span>
                    <span>25</span>
                    <span>30</span>
                    <span>35</span>
                    <span>40</span>
                </div>
            </div>
        </section>
        
        <!-- ==================== GRID PRINCIPAL ==================== -->
        <div class="main-grid">
            
            <!-- COLUNA 1: RESULTADO -->
            <div class="card resultado-section">
                <div class="card-header rosa">
                    <span class="icon">âœ¨</span>
                    Resultado
                </div>
                
                <div class="resultado-box tri2" id="resultadoBox">
                    <!-- Semanas grandes -->
                    <div class="resultado-semanas" id="semanaDisplay">20 semanas</div>
                    
                    <!-- MÃªs de gestaÃ§Ã£o -->
                    <div class="resultado-mes">
                        = <strong id="mesDisplay">5Âº mÃªs</strong> de gestaÃ§Ã£o
                    </div>
                    
                    <!-- Meses comerciais -->
                    <div class="resultado-comercial" id="comercialDisplay">
                        4 meses, 2 semanas e 2 dias
                    </div>
                    
                    <!-- Total de dias -->
                    <div class="resultado-dias" id="diasDisplay">140 dias</div>
                    
                    <!-- Detalhes -->
                    <div class="resultado-detalhe">
                        <div class="resultado-detalhe-linha">
                            <span class="badge tri2" id="trimestreBadge">2Âº trimestre</span>
                            <span class="separador">â€¢</span>
                            <span class="resultado-range" id="rangeDisplay">Semanas 17s+5d a 22s+1d</span>
                        </div>
                    </div>
                    
                    <!-- ExplicaÃ§Ã£o -->
                    <div class="resultado-explicacao" id="explicacao">
                        EstÃ¡ no <strong>5Âº mÃªs</strong>, mas ainda nÃ£o completou 5 meses.
                    </div>
                </div>
            </div>
            
            <!-- COLUNA 2: LINHA DO TEMPO -->
            <div class="card timeline-section">
                <div class="card-header azul">
                    <span class="icon">ğŸ“…</span>
                    Linha do Tempo
                </div>
                
                <!-- Trimestres -->
                <div class="trimestres-row">
                    <div class="trimestre-box tri1">
                        <div class="titulo">1Âº Trimestre</div>
                        <div class="subtitulo">AtÃ© 13 semanas</div>
                    </div>
                    <div class="trimestre-box tri2">
                        <div class="titulo">2Âº Trimestre</div>
                        <div class="subtitulo">14 a 27 semanas</div>
                    </div>
                    <div class="trimestre-box tri3">
                        <div class="titulo">3Âº Trimestre</div>
                        <div class="subtitulo">28 a 40 semanas</div>
                    </div>
                </div>
                
                <!-- Grid de Meses -->
                <div class="meses-grid" id="mesesGrid">
                    <!-- Gerado via JavaScript -->
                </div>
                
                <!-- Barra de Progresso -->
                <div class="progresso-container">
                    <div class="progresso-bar">
                        <div class="progresso-fill" id="progressoFill" style="width: 50%"></div>
                    </div>
                    <div class="progresso-labels">
                        <span>InÃ­cio</span>
                        <span id="progressoTexto">50%</span>
                        <span>DPP (40 sem)</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ==================== SEÃ‡ÃƒO DE EXAMES ==================== -->
        <section class="card exames-section">
            <div class="exames-header">
                <div class="card-header rosa" style="margin-bottom: 0;">
                    <span class="icon">ğŸ©º</span>
                    Exames e Consultas Recomendados
                </div>
                <button id="btnEditor" class="btn btn-secondary btn-sm">
                    <span>âœï¸</span>
                    Editar Exames
                </button>
            </div>
            
            <!-- Painel do Editor -->
            <div class="editor-panel" id="editorPanel">
                <h3>âœï¸ Editando: <span id="editorPeriodo">Semanas 18-22</span></h3>
                <div class="editor-grid">
                    <div class="editor-grupo">
                        <label class="form-label">ğŸ“‹ Exames (um por linha):</label>
                        <textarea id="editorExames" placeholder="Ultrassom morfolÃ³gico&#10;Ecocardiografia fetal"></textarea>
                        <small>Use * no inÃ­cio para destacar. Ex: *Ultrassom morfolÃ³gico</small>
                    </div>
                    <div class="editor-grupo">
                        <label class="form-label">ğŸ“… Consultas:</label>
                        <textarea id="editorConsultas" placeholder="Consulta prÃ©-natal mensal" style="min-height: 80px;"></textarea>
                    </div>
                    <div class="editor-grupo">
                        <label class="form-label">ğŸ’¡ ObservaÃ§Ãµes:</label>
                        <textarea id="editorNotas" placeholder="PerÃ­odo ideal para ver o sexo do bebÃª" style="min-height: 80px;"></textarea>
                    </div>
                </div>
                <div class="editor-actions">
                    <button id="btnResetarExames" class="btn btn-secondary">
                        Restaurar PadrÃ£o
                    </button>
                    <button id="btnSalvarExames" class="btn btn-primary">
                        ğŸ’¾ Salvar AlteraÃ§Ãµes
                    </button>
                </div>
            </div>
            
            <!-- Grid de Exames -->
            <div class="exames-grid" id="examesGrid">
                <!-- Gerado via JavaScript -->
            </div>
        </section>
        
        <!-- ==================== FOOTER ==================== -->
        <footer class="footer">
            <p>CÃ¡lculo baseado em 280 dias de gestaÃ§Ã£o Ã· 9 meses = ~31 dias/mÃªs</p>
            <p>Contagem a partir da Data da Ãšltima MenstruaÃ§Ã£o (DUM)</p>
            <p class="autor">Dr. Rafael Peters</p>
            <p class="especialidade">Especialista em Medicina Fetal e Ultrassonografia</p>
            <div class="social">
                <a href="https://instagram.com/drrafaelpeters" target="_blank" rel="noopener">
                    ğŸ“¸ @drrafaelpeters
                </a>
            </div>
        </footer>
        
    </div>
    
    <!-- ==================== SCRIPTS ==================== -->
    <script src="assets/js/core/calculos.js"></script>
    <script src="assets/js/core/formatacao.js"></script>
    <script src="assets/js/pages/ig-calculator.js"></script>
</body>
</html>
